{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sarabastian/Flatiron/code/final-project/frontend/src/containers/NewProjectPostCardContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport SearchResultsCard from '../components/SearchResultsCard';\nimport SearchResultsNav from '../components/Navbars/SearchResultsNav';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport NewProjectPostCard from '../components/NewProjectPostCard';\nexport default function NewProjectPostCardContainer(props) {\n  _s();\n\n  const [post, setPost] = useState(''); // console.log(props.user)\n\n  const [allPosts, setAllPosts] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`).then(res => res.json()).then(project => setAllPosts(project.posts));\n  }, []); // console.log(props.project.id)\n\n  const addPost = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/posts`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: post\n      })\n    }).then(r => r.json()).then(post => setAllPosts([...allPosts, post]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"add\",\n      onClick: handleClickOpen,\n      children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Add an update about your project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Keep your community informed of your progress.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: e => setPost(e.target.value),\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"update\",\n          type: \"text\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: addPost,\n          color: \"primary\",\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), allPosts.map(p => /*#__PURE__*/_jsxDEV(NewProjectPostCard, {\n      post: p,\n      user: props.user\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 24\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }, this);\n}\n\n_s(NewProjectPostCardContainer, \"vNkPGc0Mw8TpEqAyGC7J38kx7U4=\");\n\n_c = NewProjectPostCardContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProjectPostCardContainer\");","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/containers/NewProjectPostCardContainer.js"],"names":["React","useState","useEffect","useLocation","SearchResultsCard","SearchResultsNav","Grid","Container","NewProjectPostCard","NewProjectPostCardContainer","props","post","setPost","allPosts","setAllPosts","fetch","project","id","then","res","json","posts","addPost","setOpen","method","headers","body","JSON","stringify","project_id","user_id","user","blurb","r","handleClickOpen","open","handleClose","e","target","value","map","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport SearchResultsCard from '../components/SearchResultsCard';\nimport SearchResultsNav from '../components/Navbars/SearchResultsNav';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport NewProjectPostCard from '../components/NewProjectPostCard'\n\nexport default function NewProjectPostCardContainer(props) {\n\n\nconst [post, setPost] = useState('');\n  // console.log(props.user)\n  const [allPosts, setAllPosts] = useState([]);\n\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`)\n      .then(res => res.json())\n      .then(project => setAllPosts(project.posts));\n  }, []);\n// console.log(props.project.id)\n  const addPost = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/posts`, {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: post\n      }),\n  })\n\n\n  .then(r => r.json())\n  .then(post => setAllPosts([...allPosts, post]));\n\n  };\n\n  return(\n      <div>\n          <IconButton aria-label=\"add\" onClick={handleClickOpen}>\n            <AddIcon />\n            </IconButton>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add an update about your project</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Keep your community informed of your progress.\n          </DialogContentText>\n          <TextField  onChange={e => setPost(e.target.value)}\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"update\"\n            type=\"text\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={addPost} color=\"primary\">\n            Post\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n    {allPosts.map(p => <NewProjectPostCard post={p} key={p.id} user={props.user}/>)}\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}