{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/Tabs/SupportingProjectTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport PostCard from '../PostCard';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nconst useCStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    overflow: 'hidden',\n    padding: theme.spacing(0, 3)\n  },\n  paper: {\n    maxWidth: 400,\n    margin: `${theme.spacing(1)}px auto`,\n    padding: theme.spacing(2)\n  }\n}));\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `vertical-tabpanel-${index}`,\n    \"aria-labelledby\": `vertical-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      p: 3,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    'aria-controls': `vertical-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    height: 224\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`\n  }\n}));\nexport default function SupportingProjectTab(props) {\n  _s();\n\n  const classesC = useCStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [comment, setComment] = useState('');\n  const [allComments, setAllComments] = useState([]);\n  const [allPosts, setAllPosts] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`).then(res => res.json()).then(project => {\n      setAllComments(project.comments);\n      setAllPosts(project.posts);\n    });\n  }, []);\n\n  const addComment = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/comments`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: comment\n      })\n    }).then(r => r.json()).then(comment => setAllComments([...allComments, comment]));\n  };\n\n  const [allCommenters, setAllCommenters] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`).then(res => res.json()).then(project => setAllCommenters(project.commenters));\n  }, []);\n\n  const thisCommenter = c => {\n    return allCommenters.filter(commenter => commenter.id == c.user_id);\n  }; //   console.log(thisCommenter)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Community\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        orientation: \"vertical\",\n        variant: \"scrollable\",\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"Vertical tabs example\",\n        className: classes.tabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Updates\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Comments\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: allPosts.map(p => /*#__PURE__*/_jsxDEV(PostCard, {\n          post: p,\n          project: props.project\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 28\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"add\",\n          onClick: handleClickOpen,\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: open,\n          onClose: handleClose,\n          \"aria-labelledby\": \"form-dialog-title\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Add a comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n              children: [\"Let the \", props.project.title, \" community know your thoughts\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              onChange: e => setComment(e.target.value),\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"name\",\n              label: \"update\",\n              type: \"text\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              color: \"primary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addComment,\n              color: \"primary\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classesC.root,\n          children: allComments.map(c => /*#__PURE__*/_jsxDEV(Paper, {\n            className: classesC.paper,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              wrap: \"nowrap\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: c => thisCommenter(c).length == 1 ? /*#__PURE__*/_jsxDEV(Avatar, {\n                  src: () => thisCommenter(c)[0].profile_pic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 50\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                zeroMinWidth: true,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: c.blurb\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SupportingProjectTab, \"B6CQMAhPRVWUi5kclKpSW+UsSLY=\", false, function () {\n  return [useCStyles, useStyles];\n});\n\n_c2 = SupportingProjectTab;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"SupportingProjectTab\");","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/Tabs/SupportingProjectTab.js"],"names":["React","useState","useEffect","PropTypes","makeStyles","Tabs","Tab","Typography","Box","IconButton","AddIcon","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","PostCard","Paper","Grid","Avatar","useCStyles","theme","root","flexGrow","overflow","padding","spacing","paper","maxWidth","margin","TabPanel","props","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","useStyles","backgroundColor","palette","background","display","height","tabs","borderRight","divider","SupportingProjectTab","classesC","open","setOpen","handleClickOpen","handleClose","classes","setValue","handleChange","event","newValue","comment","setComment","allComments","setAllComments","allPosts","setAllPosts","fetch","project","then","res","json","comments","posts","addComment","method","headers","body","JSON","stringify","project_id","user_id","user","blurb","r","allCommenters","setAllCommenters","commenters","thisCommenter","c","filter","commenter","map","p","title","e","target","length","profile_pic"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport PostCard from '../PostCard';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\n\n\n\n\nconst useCStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      overflow: 'hidden',\n      padding: theme.spacing(0, 3),\n    },\n    paper: {\n      maxWidth: 400,\n      margin: `${theme.spacing(1)}px auto`,\n      padding: theme.spacing(2),\n    },\n  }));\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    'aria-controls': `vertical-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    height: 224,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\n\n\n\n\nexport default function SupportingProjectTab(props) {\n    const classesC = useCStyles();\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [comment, setComment] = useState('');\n\n  const [allComments, setAllComments] = useState([]);\n  const [allPosts, setAllPosts] = useState([]);\n  \n\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`)\n      .then(res => res.json())\n      .then(project => {\n          setAllComments(project.comments);\n          setAllPosts(project.posts)\n          \n      });\n  }, []);\n  const addComment = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/comments`, {\n      method: 'POST',\n      headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: comment\n\n      }),\n  })\n\n\n  .then(r => r.json())\n  .then(comment =>  setAllComments([...allComments, comment]))\n\n  }\n\n  const [allCommenters, setAllCommenters] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`)\n      .then(res => res.json())\n      .then(project => setAllCommenters(project.commenters));\n  }, []);\n\nconst thisCommenter = (c) => {\nreturn allCommenters.filter(commenter => commenter.id == c.user_id )\n}\n \n\n//   console.log(thisCommenter)\n  return (\n    <div> \n      <h2>Community</h2>\n\n      <div className={classes.root}>\n       \n       <Tabs\n         orientation=\"vertical\"\n         variant=\"scrollable\"\n         value={value}\n         onChange={handleChange}\n         aria-label=\"Vertical tabs example\"\n         className={classes.tabs}\n       >\n         <Tab label=\"Updates\" {...a11yProps(0)} ></Tab>\n         <Tab label=\"Comments\" {...a11yProps(1)} />\n         </Tabs>\n         \n         <TabPanel \n      value={value} index={0}>\n        {allPosts.map(p => <PostCard post={p} key={p.id} project={props.project} />)}\n         \n \n      </TabPanel>\n         <TabPanel value={value} index={1} >\n        <IconButton aria-label=\"add\" onClick={handleClickOpen}>\n            <AddIcon />\n            </IconButton>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add a comment</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n        Let the {props.project.title} community know your thoughts         \n\n        </DialogContentText>\n          <TextField  onChange={e => setComment(e.target.value)}\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"update\"\n            type=\"text\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={addComment} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      \n      <div className={classesC.root}>\n      {allComments.map(c =>\n      \n\n      <Paper className={classesC.paper}>\n        <Grid container wrap=\"nowrap\" spacing={2}>\n          <Grid item>\n          {(c) => thisCommenter(c).length == 1 ? <Avatar src={() => thisCommenter(c)[0].profile_pic}></Avatar> : null }\n          </Grid>\n          <Grid item xs zeroMinWidth>\n            <Typography >\n            {c.blurb}\n             {/* <br></br>@{thisCommenter.length == 1 ? thisCommenter[0].username : null} */}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n       )}\n     \n    </div>\n       \n   \n      </TabPanel>\n     \n\n \n \n     </div>\n   </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}