{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/SearchResultsShow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router-dom\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport SupportingProjectTab from \"./Tabs/SupportingProjectTab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SearchResultsNav from \"./Navbars/SearchResultsNav\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport { Link } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport TimelapseIcon from \"@material-ui/icons/Timelapse\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CalendarTodayIcon from \"@material-ui/icons/CalendarToday\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport { green } from \"@material-ui/core/colors\";\nimport Avatar from \"@material-ui/core/Avatar\";\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: 350\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 24\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\nconst useButtonStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1)\n  }\n}));\nconst useOwnerStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: 345\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\" // 16:9\n\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    color: green[500]\n  }\n}));\nexport default function SearchResultsShow() {\n  _s();\n\n  const data = useLocation();\n  console.log(data);\n  const classes = useStyles();\n  const buttonClasses = useButtonStyles();\n  const ownerClasses = useOwnerStyles();\n  const theme = useTheme();\n  const project = data.state.project;\n  console.log(data.state.projectOwner);\n  const projectOwner = data.state.projectOwner;\n  const user = data.state.user;\n  const [supporterships, setSupporterships] = React.useState([]);\n  console.log(user.projects_supported); // console.log(user.projects_supported.map(p => p.id === project.id) ? 'hi' : 'no')\n\n  console.log(project);\n  const alreadySupportingBtn = supporterships.filter(s => s.project_id === project.id && s.user_id === user.id);\n  console.log(alreadySupportingBtn);\n  useEffect(() => {\n    fetch(\"http://localhost:3001/api/v1/supporterships/\").then(res => res.json()).then(supporterships => setSupporterships(supporterships));\n  }, []);\n  console.log(supporterships); // console.log(supporterships.map(s => s.user_id == user.id ? 'hi' : null))\n\n  const createSupportership = () => {\n    fetch(\"http://localhost:3001/api/v1/supporterships\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        project_id: project.id,\n        user_id: user.id\n      })\n    }).then(r => r.json()).then(result => setSupporterships([...supporterships, result]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SearchResultsNav, {\n      project: data.state.project,\n      user: data.state.user,\n      language: data.state.project.language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.details,\n          children: [/*#__PURE__*/_jsxDEV(CardContent, {\n            className: classes.content,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              component: \"h5\",\n              variant: \"h5\",\n              children: project.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              color: \"textSecondary\",\n              children: project.story\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), alreadySupportingBtn.length > 0 ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              className: classes.button,\n              children: \"Supporting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              onClick: createSupportership,\n              variant: \"contained\",\n              color: \"secondary\",\n              className: classes.button,\n              startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 30\n              }, this),\n              children: \"Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            mx: \"auto\",\n            p: 2,\n            container: true,\n            direction: \"row\",\n            justify: \"space-evenly\",\n            alignItems: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: ownerClasses.root,\n              children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                  \"aria-label\": \"recipe\",\n                  className: ownerClasses.avatar,\n                  src: projectOwner.profile_pic\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this),\n                action: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"settings\",\n                  children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this),\n                title: projectOwner.name // caption={projectOwner.username}\n                ,\n                subheader: projectOwner.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  color: \"textSecondary\",\n                  component: \"p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"textSecondary\",\n                  component: \"p\",\n                  children: [projectOwner.bio, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n          className: classes.cover,\n          image: project.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        color: \"white\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          variant: \"dense\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            href: data.state.project.github,\n            variant: \"body2\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                border: \"none\",\n                boxShadow: \"none\"\n              },\n              className: ownerClasses.root,\n              children: /*#__PURE__*/_jsxDEV(CardHeader, {\n                avatar: /*#__PURE__*/_jsxDEV(GitHubIcon, {\n                  color: \"secondary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              border: \"none\",\n              boxShadow: \"none\"\n            },\n            className: ownerClasses.root,\n            children: /*#__PURE__*/_jsxDEV(CardHeader, {\n              avatar: /*#__PURE__*/_jsxDEV(LocationOnIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 25\n              }, this),\n              title: project.user.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TimelapseIcon, {\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"sm\",\n            color: \"primary\",\n            children: [project.stage, \" stage\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              border: \"none\",\n              boxShadow: \"none\"\n            },\n            className: ownerClasses.root,\n            children: /*#__PURE__*/_jsxDEV(CardHeader, {\n              avatar: /*#__PURE__*/_jsxDEV(CalendarTodayIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 25\n              }, this),\n              title: project.timeline,\n              subheader: \"days remain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              border: \"none\",\n              boxShadow: \"none\"\n            },\n            className: ownerClasses.root,\n            children: /*#__PURE__*/_jsxDEV(CardHeader, {\n              avatar: /*#__PURE__*/_jsxDEV(AttachMoneyIcon, {\n                className: ownerClasses.avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 25\n              }, this),\n              title: project.fundraising_goal,\n              subheader: \"goal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SupportingProjectTab, {\n        project: project,\n        user: user,\n        projectOwner: projectOwner\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchResultsShow, \"mZk+sFhCQa5pOBX+B4wu4Lkl/yg=\", false, function () {\n  return [useLocation, useStyles, useButtonStyles, useOwnerStyles, useTheme];\n});\n\n_c = SearchResultsShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultsShow\");","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/SearchResultsShow.js"],"names":["React","useEffect","makeStyles","useTheme","useLocation","Card","CardContent","Button","Typography","CardMedia","SupportingProjectTab","AddIcon","SearchResultsNav","GitHubIcon","Link","AppBar","Toolbar","LocationOnIcon","TimelapseIcon","Grid","MoreVertIcon","IconButton","CardHeader","CalendarTodayIcon","AttachMoneyIcon","green","Avatar","useStyles","root","minWidth","height","bullet","display","margin","transform","title","fontSize","pos","marginBottom","useButtonStyles","theme","button","spacing","useOwnerStyles","maxWidth","media","paddingTop","expand","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","color","SearchResultsShow","data","console","log","classes","buttonClasses","ownerClasses","project","state","projectOwner","user","supporterships","setSupporterships","useState","projects_supported","alreadySupportingBtn","filter","s","project_id","id","user_id","fetch","then","res","json","createSupportership","method","headers","Accept","body","JSON","stringify","r","result","language","details","content","story","length","profile_pic","name","username","bio","cover","image","github","border","boxShadow","location","stage","timeline","fundraising_goal"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useLocation } from \"react-router-dom\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport SupportingProjectTab from \"./Tabs/SupportingProjectTab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport SearchResultsNav from \"./Navbars/SearchResultsNav\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport { Link } from \"react-router-dom\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport TimelapseIcon from \"@material-ui/icons/Timelapse\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CalendarTodayIcon from \"@material-ui/icons/CalendarToday\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport { green } from \"@material-ui/core/colors\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: 350,\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 24,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst useButtonStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst useOwnerStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 0,\n    paddingTop: \"56.25%\", // 16:9\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\",\n  },\n  avatar: {\n    color: green[500],\n  },\n}));\n\nexport default function SearchResultsShow() {\n  const data = useLocation();\n  console.log(data);\n  const classes = useStyles();\n  const buttonClasses = useButtonStyles();\n  const ownerClasses = useOwnerStyles();\n\n  const theme = useTheme();\n  const project = data.state.project;\n  console.log(data.state.projectOwner);\n  const projectOwner = data.state.projectOwner;\n  const user = data.state.user;\n  const [supporterships, setSupporterships] = React.useState([]);\n  console.log(user.projects_supported);\n  // console.log(user.projects_supported.map(p => p.id === project.id) ? 'hi' : 'no')\n  console.log(project);\n  const alreadySupportingBtn = supporterships.filter(\n    (s) => s.project_id === project.id && s.user_id === user.id\n  );\n  console.log(alreadySupportingBtn);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/api/v1/supporterships/\")\n      .then((res) => res.json())\n      .then((supporterships) => setSupporterships(supporterships));\n  }, []);\n  console.log(supporterships);\n  // console.log(supporterships.map(s => s.user_id == user.id ? 'hi' : null))\n\n  const createSupportership = () => {\n    fetch(\"http://localhost:3001/api/v1/supporterships\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        project_id: project.id,\n        user_id: user.id,\n      }),\n    })\n      .then((r) => r.json())\n      .then((result) => setSupporterships([...supporterships, result]));\n  };\n\n  return (\n    <div>\n      <SearchResultsNav\n        project={data.state.project}\n        user={data.state.user}\n        language={data.state.project.language}\n      />\n      <div>\n        <Card className={classes.root}>\n          <div className={classes.details}>\n            <CardContent className={classes.content}>\n              <Typography component=\"h5\" variant=\"h5\">\n                {project.title}\n              </Typography>\n              <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                {project.story}\n              </Typography>\n\n              {alreadySupportingBtn.length > 0 ? (\n                <Button\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  className={classes.button}\n                >\n                  Supporting\n                </Button>\n              ) : (\n                <Button\n                  onClick={createSupportership}\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  className={classes.button}\n                  startIcon={<AddIcon />}\n                >\n                  Support\n                </Button>\n              )}\n            </CardContent>\n\n            <Grid\n              mx=\"auto\"\n              p={2}\n              container\n              direction=\"row\"\n              justify=\"space-evenly\"\n              alignItems=\"center\"\n            >\n              {/* <Box mx=\"auto\"  p={2}> */}\n              <Card className={ownerClasses.root}>\n                <CardHeader\n                  avatar={\n                    <Avatar\n                      aria-label=\"recipe\"\n                      className={ownerClasses.avatar}\n                      src={projectOwner.profile_pic}\n                    ></Avatar>\n                  }\n                  action={\n                    <IconButton aria-label=\"settings\">\n                      <MoreVertIcon />\n                    </IconButton>\n                  }\n                  title={projectOwner.name}\n                  // caption={projectOwner.username}\n                  subheader={projectOwner.username}\n                />\n\n                <CardContent>\n                  <Typography\n                    variant=\"body1\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  ></Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  >\n                    {projectOwner.bio}{\" \"}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n          </div>\n          <CardMedia className={classes.cover} image={project.image} />\n        </Card>\n        <AppBar position=\"static\" color=\"white\">\n          <Toolbar variant=\"dense\">\n            <Link href={data.state.project.github} variant=\"body2\">\n              <Card\n                style={{ border: \"none\", boxShadow: \"none\" }}\n                className={ownerClasses.root}\n              >\n                <CardHeader avatar={<GitHubIcon color=\"secondary\" />} />\n              </Card>\n            </Link>\n            <Card\n              style={{ border: \"none\", boxShadow: \"none\" }}\n              className={ownerClasses.root}\n            >\n              <CardHeader\n                avatar={<LocationOnIcon color=\"primary\" />}\n                title={project.user.location}\n              />\n            </Card>\n\n            <TimelapseIcon color=\"secondary\" />\n            <Typography variant=\"sm\" color=\"primary\">\n              {project.stage} stage\n            </Typography>\n            <Card\n              style={{ border: \"none\", boxShadow: \"none\" }}\n              className={ownerClasses.root}\n            >\n              <CardHeader\n                avatar={<CalendarTodayIcon color=\"primary\" />}\n                title={project.timeline}\n                subheader=\"days remain\"\n              />\n            </Card>\n            <Card\n              style={{ border: \"none\", boxShadow: \"none\" }}\n              className={ownerClasses.root}\n            >\n              <CardHeader\n                avatar={<AttachMoneyIcon className={ownerClasses.avatar} />}\n                title={project.fundraising_goal}\n                subheader=\"goal\"\n              />\n            </Card>\n          </Toolbar>\n        </AppBar>\n      </div>\n\n      <div>\n        <SupportingProjectTab\n          project={project}\n          user={user}\n          projectOwner={projectOwner}\n        />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}