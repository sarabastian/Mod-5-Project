{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/sarabastian/Flatiron/code/final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/sarabastian/Flatiron/code/final-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{makeStyles,useTheme}from'@material-ui/core/styles';import{useLocation}from\"react-router-dom\";import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import CardMedia from'@material-ui/core/CardMedia';import SupportingProjectTab from'./Tabs/SupportingProjectTab';import AddIcon from'@material-ui/icons/Add';import SearchResultsNav from'./Navbars/SearchResultsNav';import GitHubIcon from'@material-ui/icons/GitHub';import{Link}from'react-router-dom';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import LocationOnIcon from'@material-ui/icons/LocationOn';import TimelapseIcon from'@material-ui/icons/Timelapse';import Grid from'@material-ui/core/Grid';import MoreVertIcon from'@material-ui/icons/MoreVert';import IconButton from'@material-ui/core/IconButton';import CardHeader from'@material-ui/core/CardHeader';import CalendarTodayIcon from'@material-ui/icons/CalendarToday';import AttachMoneyIcon from'@material-ui/icons/AttachMoney';import{green}from'@material-ui/core/colors';import Avatar from'@material-ui/core/Avatar';var useStyles=makeStyles({root:{minWidth:275,height:350},bullet:{display:'inline-block',margin:'0 2px',transform:'scale(0.8)'},title:{fontSize:24},pos:{marginBottom:12}});var useButtonStyles=makeStyles(function(theme){return{button:{margin:theme.spacing(1)}};});var useOwnerStyles=makeStyles(function(theme){return{root:{maxWidth:345},media:{height:0,paddingTop:'56.25%'// 16:9\n},expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'},avatar:{color:green[500]}};});export default function SearchResultsShow(){var data=useLocation();console.log(data);var classes=useStyles();var buttonClasses=useButtonStyles();var ownerClasses=useOwnerStyles();var theme=useTheme();var project=data.state.project;console.log(data.state.projectOwner);var projectOwner=data.state.projectOwner;var user=data.state.user;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),supporterships=_React$useState2[0],setSupporterships=_React$useState2[1];console.log(user.projects_supported);// console.log(user.projects_supported.map(p => p.id === project.id) ? 'hi' : 'no')\nconsole.log(project);// const supportBtn = supporterships.filter(s => s.project_id != project.id)\nvar alreadySupportingBtn=supporterships.filter(function(s){return s.project_id===project.id&&s.user_id===user.id;});console.log(alreadySupportingBtn);useEffect(function(){fetch('http://localhost:3001/api/v1/supporterships/').then(function(res){return res.json();}).then(function(supporterships){return setSupporterships(supporterships);});},[]);console.log(supporterships);// console.log(supporterships.map(s => s.user_id == user.id ? 'hi' : null))\nvar createSupportership=function createSupportership(){fetch('http://localhost:3001/api/v1/supporterships',{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({project_id:project.id,user_id:user.id})}).then(function(r){return r.json();}).then(function(result){return setSupporterships([].concat(_toConsumableArray(supporterships),[result]));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchResultsNav,{project:data.state.project,user:data.state.user,language:data.state.project.language}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsxs(CardContent,{className:classes.content,children:[/*#__PURE__*/_jsx(Typography,{component:\"h5\",variant:\"h5\",children:project.title}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:project.story}),alreadySupportingBtn.length>0?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",className:classes.button,children:\"Supporting\"}):/*#__PURE__*/_jsx(Button,{onClick:createSupportership,variant:\"contained\",color:\"secondary\",className:classes.button,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Support\"})]}),/*#__PURE__*/_jsx(Grid,{mx:\"auto\",p:2,container:true,direction:\"row\",justify:\"space-evenly\",alignItems:\"center\",children:/*#__PURE__*/_jsxs(Card,{className:ownerClasses.root,children:[/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(Avatar,{\"aria-label\":\"recipe\",className:ownerClasses.avatar,src:projectOwner.profile_pic}),action:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"settings\",children:/*#__PURE__*/_jsx(MoreVertIcon,{})}),title:projectOwner.name// caption={projectOwner.username}\n,subheader:projectOwner.username}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:[projectOwner.bio,\"        \"]})]})]})})]}),/*#__PURE__*/_jsx(CardMedia,{className:classes.cover,image:project.image})]}),/*#__PURE__*/_jsx(AppBar,{position:\"static\",color:\"white\",children:/*#__PURE__*/_jsxs(Toolbar,{variant:\"dense\",children:[/*#__PURE__*/_jsx(Link,{href:data.state.project.github,variant:\"body2\",children:/*#__PURE__*/_jsx(Card,{style:{border:\"none\",boxShadow:\"none\"},className:ownerClasses.root,children:/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(GitHubIcon,{color:\"secondary\"})})})}),/*#__PURE__*/_jsx(Card,{style:{border:\"none\",boxShadow:\"none\"},className:ownerClasses.root,children:/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(LocationOnIcon,{color:\"primary\"}),title:project.user.location})}),/*#__PURE__*/_jsx(TimelapseIcon,{color:\"secondary\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"sm\",color:\"primary\",children:[project.stage,\" stage\"]}),/*#__PURE__*/_jsx(Card,{style:{border:\"none\",boxShadow:\"none\"},className:ownerClasses.root,children:/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(CalendarTodayIcon,{color:\"primary\"}),title:project.timeline,subheader:\"days remain\"})}),/*#__PURE__*/_jsx(Card,{style:{border:\"none\",boxShadow:\"none\"},className:ownerClasses.root,children:/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(AttachMoneyIcon,{className:ownerClasses.avatar}),title:project.fundraising_goal,subheader:\"goal\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SupportingProjectTab,{project:project,user:user,projectOwner:projectOwner})})]});}","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/SearchResultsShow.js"],"names":["React","useEffect","makeStyles","useTheme","useLocation","Card","CardContent","Button","Typography","CardMedia","SupportingProjectTab","AddIcon","SearchResultsNav","GitHubIcon","Link","AppBar","Toolbar","LocationOnIcon","TimelapseIcon","Grid","MoreVertIcon","IconButton","CardHeader","CalendarTodayIcon","AttachMoneyIcon","green","Avatar","useStyles","root","minWidth","height","bullet","display","margin","transform","title","fontSize","pos","marginBottom","useButtonStyles","theme","button","spacing","useOwnerStyles","maxWidth","media","paddingTop","expand","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","color","SearchResultsShow","data","console","log","classes","buttonClasses","ownerClasses","project","state","projectOwner","user","useState","supporterships","setSupporterships","projects_supported","alreadySupportingBtn","filter","s","project_id","id","user_id","fetch","then","res","json","createSupportership","method","headers","body","JSON","stringify","r","result","language","details","content","story","length","profile_pic","name","username","bio","cover","image","github","border","boxShadow","location","stage","timeline","fundraising_goal"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { useLocation } from \"react-router-dom\";\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport SupportingProjectTab from './Tabs/SupportingProjectTab';\nimport AddIcon from '@material-ui/icons/Add';\nimport SearchResultsNav from './Navbars/SearchResultsNav'\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { Link } from 'react-router-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport TimelapseIcon from '@material-ui/icons/Timelapse';\nimport Grid from '@material-ui/core/Grid';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport IconButton from '@material-ui/core/IconButton';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport { green } from '@material-ui/core/colors';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    height: 350\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 24,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n\n});\n\nconst useButtonStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst useOwnerStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n   color: green[500],\n  },\n\n\n}));\n\nexport default function SearchResultsShow() {\n  const data = useLocation()\n  console.log(data)\n  const classes = useStyles();\n  const buttonClasses = useButtonStyles();\n  const ownerClasses = useOwnerStyles();\n\n  const theme = useTheme();\n  const project = data.state.project\n  console.log(data.state.projectOwner)\n  const projectOwner = data.state.projectOwner\n  const user = data.state.user\n  const [supporterships, setSupporterships] = React.useState([]);\n  console.log(user.projects_supported)\n  // console.log(user.projects_supported.map(p => p.id === project.id) ? 'hi' : 'no')\n  console.log(project)\n  // const supportBtn = supporterships.filter(s => s.project_id != project.id)\n  const alreadySupportingBtn = supporterships.filter(s => s.project_id === project.id && s.user_id === user.id)\n  console.log(alreadySupportingBtn)\n\n  useEffect(() => {\n  fetch('http://localhost:3001/api/v1/supporterships/')\n  .then(res => res.json())\n  .then(supporterships => setSupporterships(supporterships));\n  }, [])\nconsole.log(supporterships)\n// console.log(supporterships.map(s => s.user_id == user.id ? 'hi' : null))\n\n  const createSupportership = () => {\n    fetch('http://localhost:3001/api/v1/supporterships',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n\n        },\n        body: JSON.stringify({\n          project_id: project.id,\n          user_id: user.id\n        }),\n      })\n\n\n      .then(r => r.json())\n      .then(result =>\n      setSupporterships([...supporterships, result]))\n  }\n\n  return (\n    <div>\n      <SearchResultsNav project={data.state.project} user={data.state.user} language={data.state.project.language} />\n      <div>\n        <Card className={classes.root}>\n          <div className={classes.details}>\n            <CardContent className={classes.content}>\n              <Typography component=\"h5\" variant=\"h5\">\n                {project.title}\n              </Typography>\n              <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                {project.story}\n              </Typography>\n            \n        \n              {alreadySupportingBtn.length > 0 ?\n  \n \n <Button\n         variant=\"contained\"\n         color=\"secondary\"\n         className={classes.button}\n         >Supporting</Button>  : \n\n<Button onClick={createSupportership}\n        variant=\"contained\"\n        color=\"secondary\" \n        className={classes.button}\n        startIcon={<AddIcon />}\n      >\n        Support\n      </Button> }\n            </CardContent>\n\n            <Grid mx=\"auto\"  p={2}\ncontainer\ndirection=\"row\"\njustify=\"space-evenly\"\nalignItems=\"center\">\n  {/* <Box mx=\"auto\"  p={2}> */}\n    <Card className={ownerClasses.root}  >\n      <CardHeader\n        avatar={\n          <Avatar aria-label=\"recipe\" className={ownerClasses.avatar} src={projectOwner.profile_pic}>\n            \n          </Avatar>\n        }\n        action={\n          <IconButton aria-label=\"settings\">\n            <MoreVertIcon />\n          </IconButton>\n        }\n        title={projectOwner.name}\n        // caption={projectOwner.username}\n        subheader={projectOwner.username}\n      />\n    \n      <CardContent>\n      <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\n      </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n        {projectOwner.bio}        </Typography>\n      </CardContent>\n      \n\n    </Card>\n\n\n\n    </Grid>\n          </div>\n          <CardMedia\n            className={classes.cover}\n            image={project.image}\n          />\n        </Card>\n        <AppBar position=\"static\" color='white'>\n  <Toolbar variant=\"dense\">\n   \n\n  <Link href={data.state.project.github}  variant=\"body2\">\n  <Card  style={{ border: \"none\", boxShadow: \"none\" }}className={ownerClasses.root}>\n  <CardHeader \n  avatar={ <GitHubIcon color='secondary' /> }\n   />\n   </Card>\n                </Link>\n  <Card  style={{ border: \"none\", boxShadow: \"none\" }}className={ownerClasses.root}>\n  <CardHeader \n  avatar={ <LocationOnIcon color='primary' /> }\n  title={project.user.location}\n />\n  \n \n</Card> \n{/* <Card  style={{ border: \"none\", boxShadow: \"none\" }}className={ownerClasses.root}>\n  <CardHeader \n  avatar={ <TimelapseIcon color='secondary' /> }\n  title={project.stage}\n  subheader='stage' />\n  \n \n</Card>       */}\n    <TimelapseIcon color=\"secondary\"/>\n    <Typography variant=\"sm\" color=\"primary\" >\n   \n   {project.stage} stage\n   </Typography>\n   <Card  style={{ border: \"none\", boxShadow: \"none\" }}className={ownerClasses.root}>\n  <CardHeader \n  avatar={ <CalendarTodayIcon color='primary' /> }\n  title={project.timeline}\n  subheader=\"days remain\" />\n  \n \n</Card> \n<Card style={{ border: \"none\", boxShadow: \"none\" }} className={ownerClasses.root}>\n  <CardHeader \n  avatar={ <AttachMoneyIcon className={ownerClasses.avatar}/> }\n  title={project.fundraising_goal}\n  subheader=\"goal\" />\n  \n\n</Card> \n  </Toolbar>\n</AppBar>\n      </div>\n\n      <div>\n                    <SupportingProjectTab project={project} user={user} projectOwner={projectOwner}/>\n                    </div> \n    </div>\n\n\n\n  )\n}\n"]},"metadata":{},"sourceType":"module"}