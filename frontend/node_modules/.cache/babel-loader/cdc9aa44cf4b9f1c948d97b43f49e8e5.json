{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/Tabs/ProjectTabs.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { IconButton } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport PostCard from \"../PostCard\";\nimport SupporterCard from \"../SupporterCard\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CommentCard from \"../CommentCard\";\nimport Box from \"@material-ui/core/Box\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `vertical-tabpanel-${index}`,\n    \"aria-labelledby\": `vertical-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      p: 3,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`\n  };\n}\n\nconst useGridStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    height: 140,\n    width: 100\n  },\n  control: {\n    padding: theme.spacing(2)\n  }\n}));\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: \"flex\",\n    height: 600\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`\n  }\n}));\nconst useSnackStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: 600,\n    \"& > * + *\": {\n      marginTop: theme.spacing(2)\n    }\n  }\n}));\nexport default function ProjectTabs(props) {\n  _s();\n\n  const [spacing, setSpacing] = React.useState(2);\n  const gridClasses = useGridStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n  const snackClasses = useSnackStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [post, setPost] = useState(\"\"); // console.log(props.user)\n\n  const [allPosts, setAllPosts] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`).then(res => res.json()).then(project => setAllPosts(project.posts));\n  }, []); // console.log(props.project.id)\n\n  const addPost = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/posts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: post\n      })\n    }).then(r => r.json()).then(post => setAllPosts([...allPosts, post]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Community\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        orientation: \"vertical\",\n        variant: \"scrollable\",\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"Vertical tabs example\",\n        className: classes.tabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Your Updates\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Comments\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Supporters\",\n          ...a11yProps(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"add\",\n          onClick: handleClickOpen,\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: open,\n          onClose: handleClose,\n          \"aria-labelledby\": \"form-dialog-title\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Add an update about your project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n              children: \"Keep your community informed of your progress.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              onChange: e => setPost(e.target.value),\n              autoFocus: true,\n              margin: \"dense\",\n              id: \"name\",\n              label: \"update\",\n              type: \"text\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              color: \"primary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: addPost,\n              color: \"primary\",\n              children: \"Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), allPosts.map(p => /*#__PURE__*/_jsxDEV(PostCard, {\n          post: p,\n          project: props.project,\n          user: props.user\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: props.comments.map(c => /*#__PURE__*/_jsxDEV(CommentCard, {\n          comment: c,\n          project: props.project\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 2,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"space-evenly\",\n          alignItems: \"center\",\n          children: props.supporters.map(s => /*#__PURE__*/_jsxDEV(SupporterCard, {\n            supporter: s\n          }, s.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProjectTabs, \"5C1wso3SMc1wpSmajoBRd1J6h/I=\", false, function () {\n  return [useGridStyles, useStyles, useSnackStyles];\n});\n\n_c2 = ProjectTabs;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"ProjectTabs\");","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/Tabs/ProjectTabs.js"],"names":["React","useState","useEffect","PropTypes","makeStyles","Tabs","Tab","Typography","IconButton","AddIcon","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","PostCard","SupporterCard","Grid","CommentCard","Box","TabPanel","props","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","useGridStyles","theme","root","flexGrow","paper","height","width","control","padding","spacing","useStyles","backgroundColor","palette","background","display","tabs","borderRight","divider","useSnackStyles","maxWidth","marginTop","ProjectTabs","setSpacing","gridClasses","open","setOpen","handleClickOpen","handleClose","classes","snackClasses","setValue","handleChange","event","newValue","post","setPost","allPosts","setAllPosts","fetch","project","then","res","json","posts","addPost","method","headers","Accept","body","JSON","stringify","project_id","user_id","user","blurb","r","e","target","map","p","comments","c","supporters","s"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,KAAnB;AAA0B,OAAGC;AAA7B,MAAuCJ,KAA7C;AAEA,sBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,MAAM,EAAEE,KAAK,KAAKC,KAFpB;AAGE,IAAA,EAAE,EAAG,qBAAoBA,KAAM,EAHjC;AAIE,uBAAkB,gBAAeA,KAAM,EAJzC;AAAA,OAKMC,KALN;AAAA,cAOGF,KAAK,KAAKC,KAAV,iBACC,QAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAA,6BACE,QAAC,UAAD;AAAA,kBAAaF;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;KAlBQF,Q;AAoBTA,QAAQ,CAACM,SAAT,GAAqB;AACnBJ,EAAAA,QAAQ,EAAErB,SAAS,CAAC0B,IADD;AAEnBH,EAAAA,KAAK,EAAEvB,SAAS,CAAC2B,GAAV,CAAcC,UAFF;AAGnBN,EAAAA,KAAK,EAAEtB,SAAS,CAAC2B,GAAV,CAAcC;AAHF,CAArB;;AAMA,SAASC,SAAT,CAAmBN,KAAnB,EAA0B;AACxB,SAAO;AACLO,IAAAA,EAAE,EAAG,gBAAeP,KAAM,EADrB;AAEL,qBAAkB,qBAAoBA,KAAM;AAFvC,GAAP;AAID;;AAED,MAAMQ,aAAa,GAAG9B,UAAU,CAAE+B,KAAD,KAAY;AAC3CC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN,GADqC;AAI3CC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,GADH;AAELC,IAAAA,KAAK,EAAE;AAFF,GAJoC;AAQ3CC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd;AADF;AARkC,CAAZ,CAAD,CAAhC;AAaA,MAAMC,SAAS,GAAGxC,UAAU,CAAE+B,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE,CADN;AAEJQ,IAAAA,eAAe,EAAEV,KAAK,CAACW,OAAN,CAAcC,UAAd,CAAyBT,KAFtC;AAGJU,IAAAA,OAAO,EAAE,MAHL;AAIJT,IAAAA,MAAM,EAAE;AAJJ,GADiC;AAOvCU,EAAAA,IAAI,EAAE;AACJC,IAAAA,WAAW,EAAG,aAAYf,KAAK,CAACW,OAAN,CAAcK,OAAQ;AAD5C;AAPiC,CAAZ,CAAD,CAA5B;AAYA,MAAMC,cAAc,GAAGhD,UAAU,CAAE+B,KAAD,KAAY;AAC5CC,EAAAA,IAAI,EAAE;AACJiB,IAAAA,QAAQ,EAAE,GADN;AAEJ,iBAAa;AACXC,MAAAA,SAAS,EAAEnB,KAAK,CAACQ,OAAN,CAAc,CAAd;AADA;AAFT;AADsC,CAAZ,CAAD,CAAjC;AASA,eAAe,SAASY,WAAT,CAAqBhC,KAArB,EAA4B;AAAA;;AACzC,QAAM,CAACoB,OAAD,EAAUa,UAAV,IAAwBxD,KAAK,CAACC,QAAN,CAAe,CAAf,CAA9B;AACA,QAAMwD,WAAW,GAAGvB,aAAa,EAAjC;AACA,QAAM,CAACwB,IAAD,EAAOC,OAAP,IAAkB3D,KAAK,CAACC,QAAN,CAAe,KAAf,CAAxB;;AAEA,QAAM2D,eAAe,GAAG,MAAM;AAC5BD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAME,WAAW,GAAG,MAAM;AACxBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAGA,QAAMG,OAAO,GAAGlB,SAAS,EAAzB;AACA,QAAMmB,YAAY,GAAGX,cAAc,EAAnC;AAEA,QAAM,CAAC3B,KAAD,EAAQuC,QAAR,IAAoBhE,KAAK,CAACC,QAAN,CAAe,CAAf,CAA1B;;AAEA,QAAMgE,YAAY,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACxCH,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACD,GAFD;;AAIA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBpE,QAAQ,CAAC,EAAD,CAAhC,CArByC,CAsBzC;;AACA,QAAM,CAACqE,QAAD,EAAWC,WAAX,IAA0BtE,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdsE,IAAAA,KAAK,CAAE,yCAAwCjD,KAAK,CAACkD,OAAN,CAAcxC,EAAG,EAA3D,CAAL,CACGyC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESD,OAAD,IAAaF,WAAW,CAACE,OAAO,CAACI,KAAT,CAFhC;AAGD,GAJQ,EAIN,EAJM,CAAT,CAzByC,CA8BzC;;AACA,QAAMC,OAAO,GAAG,MAAM;AACpBnB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAa,IAAAA,KAAK,CAAE,oCAAF,EAAuC;AAC1CO,MAAAA,MAAM,EAAE,MADkC;AAE1CC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE;AAFD,OAFiC;AAM1CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,UAAU,EAAE9D,KAAK,CAACkD,OAAN,CAAcxC,EADP;AAEnBqD,QAAAA,OAAO,EAAE/D,KAAK,CAACgE,IAAN,CAAWtD,EAFD;AAGnBuD,QAAAA,KAAK,EAAEpB;AAHY,OAAf;AANoC,KAAvC,CAAL,CAYGM,IAZH,CAYSe,CAAD,IAAOA,CAAC,CAACb,IAAF,EAZf,EAaGF,IAbH,CAaSN,IAAD,IAAUG,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcF,IAAd,CAAD,CAb7B;AAcD,GAhBD;;AAkBA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE;AAAK,MAAA,SAAS,EAAEN,OAAO,CAAC1B,IAAxB;AAAA,8BACE,QAAC,IAAD;AACE,QAAA,WAAW,EAAC,UADd;AAEE,QAAA,OAAO,EAAC,YAFV;AAGE,QAAA,KAAK,EAAEX,KAHT;AAIE,QAAA,QAAQ,EAAEwC,YAJZ;AAKE,sBAAW,uBALb;AAME,QAAA,SAAS,EAAEH,OAAO,CAACb,IANrB;AAAA,gCAQE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,cAAX;AAAA,aAA8BjB,SAAS,CAAC,CAAD;AAAvC;AAAA;AAAA;AAAA;AAAA,gBARF,eASE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,UAAX;AAAA,aAA0BA,SAAS,CAAC,CAAD;AAAnC;AAAA;AAAA;AAAA;AAAA,gBATF,eAUE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,YAAX;AAAA,aAA4BA,SAAS,CAAC,CAAD;AAArC;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAaE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEP,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAA,gCACE,QAAC,UAAD;AAAY,wBAAW,KAAvB;AAA6B,UAAA,OAAO,EAAEmC,eAAtC;AAAA,iCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,MAAD;AACE,UAAA,IAAI,EAAEF,IADR;AAEE,UAAA,OAAO,EAAEG,WAFX;AAGE,6BAAgB,mBAHlB;AAAA,kCAKE,QAAC,WAAD;AAAa,YAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAQE,QAAC,aAAD;AAAA,oCACE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,SAAD;AACE,cAAA,QAAQ,EAAG6B,CAAD,IAAOrB,OAAO,CAACqB,CAAC,CAACC,MAAF,CAASlE,KAAV,CAD1B;AAEE,cAAA,SAAS,MAFX;AAGE,cAAA,MAAM,EAAC,OAHT;AAIE,cAAA,EAAE,EAAC,MAJL;AAKE,cAAA,KAAK,EAAC,QALR;AAME,cAAA,IAAI,EAAC,MANP;AAOE,cAAA,SAAS;AAPX;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eAsBE,QAAC,aAAD;AAAA,oCACE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEoC,WAAjB;AAA8B,cAAA,KAAK,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEiB,OAAjB;AAA0B,cAAA,KAAK,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,EAoCGR,QAAQ,CAACsB,GAAT,CAAcC,CAAD,iBACZ,QAAC,QAAD;AACE,UAAA,IAAI,EAAEA,CADR;AAGE,UAAA,OAAO,EAAEtE,KAAK,CAACkD,OAHjB;AAIE,UAAA,IAAI,EAAElD,KAAK,CAACgE;AAJd,WAEOM,CAAC,CAAC5D,EAFT;AAAA;AAAA;AAAA;AAAA,gBADD,CApCH;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,eA2DE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAER,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAA,kBACGF,KAAK,CAACuE,QAAN,CAAeF,GAAf,CAAoBG,CAAD,iBAClB,QAAC,WAAD;AAAa,UAAA,OAAO,EAAEA,CAAtB;AAAoC,UAAA,OAAO,EAAExE,KAAK,CAACkD;AAAnD,WAA8BsB,CAAC,CAAC9D,EAAhC;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cA3DF,eAiEE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAER,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAA,+BACE,QAAC,IAAD;AACE,UAAA,SAAS,MADX;AAEE,UAAA,SAAS,EAAC,KAFZ;AAGE,UAAA,OAAO,EAAC,cAHV;AAIE,UAAA,UAAU,EAAC,QAJb;AAAA,oBAMGF,KAAK,CAACyE,UAAN,CAAiBJ,GAAjB,CAAsBK,CAAD,iBACpB,QAAC,aAAD;AAAe,YAAA,SAAS,EAAEA;AAA1B,aAAkCA,CAAC,CAAChE,EAApC;AAAA;AAAA;AAAA;AAAA,kBADD;AANH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAjEF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoFD;;GArIuBsB,W;UAEFrB,a,EAUJU,S,EACKQ,c;;;MAbCG,W","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { IconButton } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport PostCard from \"../PostCard\";\nimport SupporterCard from \"../SupporterCard\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CommentCard from \"../CommentCard\";\nimport Box from \"@material-ui/core/Box\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`,\n  };\n}\n\nconst useGridStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 140,\n    width: 100,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: \"flex\",\n    height: 600,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n}));\n\nconst useSnackStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 600,\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function ProjectTabs(props) {\n  const [spacing, setSpacing] = React.useState(2);\n  const gridClasses = useGridStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const classes = useStyles();\n  const snackClasses = useSnackStyles();\n\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const [post, setPost] = useState(\"\");\n  // console.log(props.user)\n  const [allPosts, setAllPosts] = useState([]);\n\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`)\n      .then((res) => res.json())\n      .then((project) => setAllPosts(project.posts));\n  }, []);\n  // console.log(props.project.id)\n  const addPost = () => {\n    setOpen(false);\n    fetch(`http://localhost:3001/api/v1/posts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({\n        project_id: props.project.id,\n        user_id: props.user.id,\n        blurb: post,\n      }),\n    })\n      .then((r) => r.json())\n      .then((post) => setAllPosts([...allPosts, post]));\n  };\n\n  return (\n    <div>\n      <h2>Community</h2>\n\n      <div className={classes.root}>\n        <Tabs\n          orientation=\"vertical\"\n          variant=\"scrollable\"\n          value={value}\n          onChange={handleChange}\n          aria-label=\"Vertical tabs example\"\n          className={classes.tabs}\n        >\n          <Tab label=\"Your Updates\" {...a11yProps(0)}></Tab>\n          <Tab label=\"Comments\" {...a11yProps(1)} />\n          <Tab label=\"Supporters\" {...a11yProps(2)} />\n        </Tabs>\n        <TabPanel value={value} index={0}>\n          <IconButton aria-label=\"add\" onClick={handleClickOpen}>\n            <AddIcon />\n          </IconButton>\n          <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <DialogTitle id=\"form-dialog-title\">\n              Add an update about your project\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                Keep your community informed of your progress.\n              </DialogContentText>\n              <TextField\n                onChange={(e) => setPost(e.target.value)}\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"update\"\n                type=\"text\"\n                fullWidth\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={addPost} color=\"primary\">\n                Post\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          {allPosts.map((p) => (\n            <PostCard\n              post={p}\n              key={p.id}\n              project={props.project}\n              user={props.user}\n            />\n          ))}\n        </TabPanel>\n\n        <TabPanel value={value} index={1}>\n          {props.comments.map((c) => (\n            <CommentCard comment={c} key={c.id} project={props.project} />\n          ))}\n        </TabPanel>\n\n        <TabPanel value={value} index={2}>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"space-evenly\"\n            alignItems=\"center\"\n          >\n            {props.supporters.map((s) => (\n              <SupporterCard supporter={s} key={s.id} />\n            ))}\n          </Grid>\n        </TabPanel>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}