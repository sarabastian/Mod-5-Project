{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/NewProjectCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport ProjectShowNav from './Navbars/ProjectShowNav';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ProjectTabs from './Tabs/ProjectTabs';\nimport { useLocation } from \"react-router-dom\";\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { IconButton } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\nimport { Redirect } from 'react-router-dom';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport NewProjectTabs from './Tabs/NewProjectTabs';\nconst useStyle = makeStyles({\n  root: {\n    minWidth: 275,\n    height: 400\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 24\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\nconst useAccordionStyles = makeStyles(theme => ({\n  root: {\n    width: '400%'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nfunction NewProjectCard(props) {\n  _s();\n\n  const data = useLocation();\n  const styles = useStyle();\n  const accordionClasses = useAccordionStyles();\n  const [open, setOpen] = React.useState(false);\n  const [story, setStory] = React.useState(data.state.project.story);\n  const [timeline, setTimeline] = React.useState(data.state.project.timeline);\n  const [fundraising_goal, setFundraisingGoal] = React.useState(data.state.project.fundraising_goal);\n  const [deleted, setDelete] = React.useState(false);\n  const [githubChange, setGithubChange] = React.useState(data.state.project.github);\n  const [currentProject, setCurrentProject] = React.useState([]);\n  const [updatedProject, setUpdatedProject] = React.useState([]);\n  const [changedStory, setClickforChangedStory] = React.useState(false);\n  const [changedTimeline, setClickforChangedTimeline] = React.useState(false);\n  const [changedFundraising, setClickforChangedFundraising] = React.useState(false);\n\n  const handleStoryChange = event => {\n    setClickforChangedStory(true);\n    setStory(event.target.value);\n  };\n\n  const handleTimelineChange = event => {\n    setClickforChangedTimeline(true);\n    setTimeline(event.target.value);\n  };\n\n  const handleFundraisingChange = event => {\n    setClickforChangedFundraising(true);\n    setFundraisingGoal(event.target.value);\n  };\n\n  const handleGithubChange = event => {\n    setGithubChange(event.target.value);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    setDelete(true);\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n      method: 'DELETE'\n    });\n  }; // console.log(useLocation())\n\n\n  const handleStoryUpdate = () => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        story: story\n      })\n    }).then(res => res.json()).then(project => setUpdatedProject(project));\n  };\n\n  const handleTimelineUpdate = () => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        timeline: timeline\n      })\n    }).then(res => res.json()).then(project => setUpdatedProject(project));\n  };\n\n  const handleFundraisingUpdate = () => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      },\n      body: JSON.stringify({\n        fundraising_goal: fundraising_goal\n      })\n    }).then(res => res.json()).then(project => setUpdatedProject(project));\n  }; // const handleGithubUpdate = () => {\n  //   fetch(`http://localhost:3001/api/v1/projects/${data.state.project.id}`, {\n  //     method:'PATCH',\n  //     headers:{\n  //       'Content-Type':'application/json',\n  //         Accept: 'application/json',\n  //     },\n  //     body: JSON.stringify({\n  //       github: githubChange\n  //     })\n  //   })\n  //   .then(res => res.json())\n  //   .then(project => setUpdatedProject(project))\n  //   }\n\n\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`).then(res => res.json()).then(project => setCurrentProject(project));\n  }, []);\n  console.log(currentProject); // console.log(currentProject)\n\n  return deleted ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/my-projects\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 15\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: styles.root,\n      variant: \"outlined\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: styles.title,\n          color: \"textSecondary\",\n          gutterBottom: true,\n          children: [currentProject.title, /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleClickOpen,\n            children: [/*#__PURE__*/_jsxDEV(DeleteOutlinedIcon, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 58\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              open: open,\n              onClose: handleClose,\n              \"aria-labelledby\": \"alert-dialog-title\",\n              \"aria-describedby\": \"alert-dialog-description\",\n              children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                id: \"alert-dialog-title\",\n                children: 'Are you sure you want to delete this project?'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleClose,\n                  color: \"primary\",\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleDelete,\n                  color: \"primary\",\n                  autoFocus: true,\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleStoryUpdate,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: accordionClasses.root,\n            children: /*#__PURE__*/_jsxDEV(Accordion, {\n              children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                expandIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this),\n                \"aria-controls\": \"panel1a-content\",\n                id: \"panel1a-header\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: accordionClasses.heading,\n                  children: changedStory ? updatedProject.story : currentProject.story\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    onChange: e => handleStoryChange(e),\n                    autoFocus: true,\n                    fullWidth: true,\n                    defaultValue: currentProject.story,\n                    name: \"story\",\n                    fullWidth: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 7\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleTimelineUpdate,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: accordionClasses.root,\n            children: /*#__PURE__*/_jsxDEV(Accordion, {\n              children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                expandIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this),\n                \"aria-controls\": \"panel1a-content\",\n                id: \"panel1a-header\",\n                minWidth: true,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: accordionClasses.heading,\n                  children: [\" timeline: \", changedTimeline ? updatedProject.timeline : currentProject.timeline, \" days\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  onChange: e => handleTimelineChange(e),\n                  autoFocus: true,\n                  margin: \"dense\",\n                  name: \"timeline\",\n                  defaultValue: currentProject.timeline,\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleFundraisingUpdate,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: accordionClasses.root,\n            children: /*#__PURE__*/_jsxDEV(Accordion, {\n              children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                expandIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this),\n                \"aria-controls\": \"panel1a-content\",\n                id: \"panel1a-header\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: accordionClasses.heading,\n                  children: [\"fundraising goal: $\", changedFundraising ? updatedProject.fundraising_goal : currentProject.fundraising_goal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  onChange: e => handleFundraisingChange(e),\n                  autoFocus: true,\n                  margin: \"dense\",\n                  id: \"name\",\n                  defaultValue: currentProject.fundraising_goal,\n                  name: \"fundraising_goal\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(NewProjectTabs, {\n      project: currentProject,\n      user: props.user,\n      supporters: props.project.supporters,\n      comments: props.project.comments,\n      commenters: props.project.commenters\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewProjectCard, \"AbJQiVwR+qz4Nlz4C8HMUng+ui8=\", false, function () {\n  return [useLocation, useStyle, useAccordionStyles];\n});\n\n_c = NewProjectCard;\nexport default NewProjectCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProjectCard\");","map":{"version":3,"sources":["/Users/sarabastian/Flatiron/code/final-project/frontend/src/components/NewProjectCard.js"],"names":["React","useEffect","ProjectShowNav","makeStyles","ProjectTabs","useLocation","Card","CardContent","Button","Typography","EditIcon","Dialog","DialogActions","DialogTitle","IconButton","TextField","DeleteOutlinedIcon","Redirect","Accordion","AccordionSummary","AccordionDetails","NewProjectTabs","useStyle","root","minWidth","height","bullet","display","margin","transform","title","fontSize","pos","marginBottom","useAccordionStyles","theme","width","heading","typography","pxToRem","fontWeight","fontWeightRegular","NewProjectCard","props","data","styles","accordionClasses","open","setOpen","useState","story","setStory","state","project","timeline","setTimeline","fundraising_goal","setFundraisingGoal","deleted","setDelete","githubChange","setGithubChange","github","currentProject","setCurrentProject","updatedProject","setUpdatedProject","changedStory","setClickforChangedStory","changedTimeline","setClickforChangedTimeline","changedFundraising","setClickforChangedFundraising","handleStoryChange","event","target","value","handleTimelineChange","handleFundraisingChange","handleGithubChange","handleClickOpen","handleClose","handleDelete","fetch","id","method","handleStoryUpdate","headers","Accept","body","JSON","stringify","then","res","json","handleTimelineUpdate","handleFundraisingUpdate","console","log","e","user","supporters","comments","commenters"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport ProjectShowNav from './Navbars/ProjectShowNav';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport ProjectTabs from './Tabs/ProjectTabs';\nimport {useLocation} from \"react-router-dom\";\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { IconButton } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\nimport { Redirect } from 'react-router-dom';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport NewProjectTabs from './Tabs/NewProjectTabs'\n\n\n\nconst useStyle = makeStyles({\n  root: {\n      minWidth: 275,\n      height: 400\n  },\n  bullet: {\n      display: 'inline-block',\n      margin: '0 2px',\n      transform: 'scale(0.8)',\n  },\n  title: {\n      fontSize: 24,\n  },\n  pos: {\n      marginBottom: 12,\n  },\n});\n\n\nconst useAccordionStyles = makeStyles((theme) => ({\n  root: {\n    width: '400%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\n\nfunction NewProjectCard(props) {\n  const data = useLocation()\n  const styles = useStyle();\n  const accordionClasses = useAccordionStyles();\n\n\n  const [open, setOpen] = React.useState(false);\n  const [story, setStory] = React.useState(data.state.project.story);\n  const [timeline, setTimeline] = React.useState(data.state.project.timeline);\n  const [fundraising_goal, setFundraisingGoal] = React.useState(data.state.project.fundraising_goal);\n  const [deleted, setDelete] = React.useState(false);\n  const [githubChange, setGithubChange] = React.useState(data.state.project.github);\n  const [currentProject, setCurrentProject] = React.useState([])\n  const [updatedProject, setUpdatedProject] = React.useState([])\n  const [changedStory, setClickforChangedStory] = React.useState(false)\n  const [changedTimeline, setClickforChangedTimeline] = React.useState(false)\n  const [changedFundraising, setClickforChangedFundraising] = React.useState(false)\n\n  const handleStoryChange = (event) => {\n    setClickforChangedStory(true);\n    setStory(event.target.value) ;\n  };\n\n  const handleTimelineChange = (event) => {\n    setClickforChangedTimeline(true);\n    setTimeline(event.target.value) ;\n  };\n\n  const handleFundraisingChange = (event) => {\n    setClickforChangedFundraising(true);\n    setFundraisingGoal(event.target.value)\n  };\n\n  const handleGithubChange = (event) => {\n    setGithubChange(event.target.value)\n  }\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  \n\n\n  const handleDelete = () => {\n    setDelete(true);\n    fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n      method: 'DELETE'\n      })\n    \n  }\n\n \n// console.log(useLocation())\n\n\nconst handleStoryUpdate = () => {\n  fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n    method:'PATCH',\n    headers:{\n      'Content-Type':'application/json',\n        Accept: 'application/json',\n    },\n    body: JSON.stringify({\n      story: story\n    })\n  })\n  .then(res => res.json())\n  .then(project => setUpdatedProject(project))\n}\n\nconst handleTimelineUpdate = () => {\n  fetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n    method:'PATCH',\n    headers:{\n      'Content-Type':'application/json',\n        Accept: 'application/json',\n    },\n    body: JSON.stringify({\n       timeline: timeline\n    })\n  })\n.then(res => res.json())\n.then(project => setUpdatedProject(project))\n} \n\nconst handleFundraisingUpdate = () => {\nfetch(`http://localhost:3001/api/v1/projects/${props.project.id}`, {\n  method:'PATCH',\n  headers:{\n    'Content-Type':'application/json',\n      Accept: 'application/json',\n  },\n  body: JSON.stringify({\n    fundraising_goal: fundraising_goal\n  })\n})\n.then(res => res.json())\n.then(project => setUpdatedProject(project))\n}\n\n// const handleGithubUpdate = () => {\n//   fetch(`http://localhost:3001/api/v1/projects/${data.state.project.id}`, {\n//     method:'PATCH',\n//     headers:{\n//       'Content-Type':'application/json',\n//         Accept: 'application/json',\n//     },\n//     body: JSON.stringify({\n//       github: githubChange\n//     })\n//   })\n//   .then(res => res.json())\n//   .then(project => setUpdatedProject(project))\n//   }\n\nuseEffect(() => {\nfetch(`http://localhost:3001/api/v1/projects/${props.project.id}`)\n  .then(res => res.json())\n  .then(project => setCurrentProject(project));\n}, []);\n\nconsole.log(currentProject)\n  // console.log(currentProject)\n\n  return (\n    deleted ? <Redirect to=\"/my-projects\" /> : \n    <div>\n\n    <Card className={styles.root} variant=\"outlined\">\n          <CardContent>\n              <Typography className={styles.title} color=\"textSecondary\" gutterBottom>\n                  {currentProject.title}\n                  <IconButton  onClick={handleClickOpen}><DeleteOutlinedIcon  color=\"secondary\"/>\n                 \n              \n                    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{'Are you sure you want to delete this project?'}</DialogTitle>\n   \n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          No\n        </Button>\n        <Button onClick ={handleDelete} color=\"primary\" autoFocus>\n          Yes\n        </Button>\n      </DialogActions>\n    </Dialog>\n                 \n          \n                 \n                  </IconButton>\n        </Typography>\n      \n        \n     \n               \n                 <IconButton onClick={handleStoryUpdate} >   \n                 <div className={accordionClasses.root}>         \n    <Accordion>\n  \n      <AccordionSummary\n        expandIcon={< EditIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Typography className={accordionClasses.heading}>{changedStory ? updatedProject.story : currentProject.story}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <form>\n      <TextField onChange={e => handleStoryChange(e)}\n          autoFocus\n          fullWidth\n          defaultValue={currentProject.story}\n          name='story'\n  \n          fullWidth\n        />\n        </form>\n      </AccordionDetails>\n    </Accordion>\n    </div>\n    </IconButton>\n       \n          \n                 <IconButton onClick={handleTimelineUpdate}>\n                 <div className={accordionClasses.root}>         \n    <Accordion>\n  \n      <AccordionSummary\n        expandIcon={< EditIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n        minWidth\n      >\n        <Typography className={accordionClasses.heading}> timeline: {changedTimeline ? updatedProject.timeline : currentProject.timeline} days</Typography>\n\n        </AccordionSummary>\n        <AccordionDetails>\n        <TextField onChange={e => handleTimelineChange(e)}\n          autoFocus\n          margin=\"dense\"\n          name='timeline'\n          defaultValue={currentProject.timeline}\n          fullWidth\n        />\n      \n   \n      </AccordionDetails>\n        </Accordion>\n        </div>        \n      </IconButton>\n\n      <IconButton onClick={handleFundraisingUpdate}>\n                 <div className={accordionClasses.root}>         \n    <Accordion>\n  \n      <AccordionSummary\n        expandIcon={< EditIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n      >\n        <Typography className={accordionClasses.heading}>fundraising goal: ${changedFundraising ? updatedProject.fundraising_goal : currentProject.fundraising_goal}</Typography>\n\n        </AccordionSummary>\n        <AccordionDetails>\n        <TextField onChange={e => handleFundraisingChange(e)}\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          defaultValue={currentProject.fundraising_goal}\n          name='fundraising_goal'\n          fullWidth\n        />\n      \n   \n      </AccordionDetails>\n        </Accordion>\n        </div>        \n      </IconButton>\n\n              \n      {/* <Link href={changedProject ? updatedProject.github : currentProject.github} >\n        <GitHubIcon />\n        </Link> */}\n      {/* <Accordion>\n      <AccordionSummary\n        expandIcon={< EditIcon />}\n        aria-controls=\"panel1a-content\"\n        id=\"panel1a-header\"\n        size='xs'\n      />\n       <AccordionDetails>\n        <TextField onChange={e => handleGithubChange(e)}\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          defaultValue={currentProject.github}\n          name='github'\n          fullWidth\n        /> */}\n      \n  \n      {/* <Typography className={accordionClasses.heading}>\n\n        \n           \n           \n              </Typography>\n              </AccordionDetails>\n            </Accordion>\n         */}\n\n          </CardContent>\n    \n      </Card>\n     \n      <NewProjectTabs project={currentProject} user={props.user}  \n                      supporters={props.project.supporters} comments={props.project.comments}\n                      commenters={props.project.commenters}/>\n      </div>\n       \n    )\n}\n\nexport default NewProjectCard"]},"metadata":{},"sourceType":"module"}